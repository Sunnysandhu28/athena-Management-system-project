{% extends "base.html" %}

{% block title %}Policy Feedback - Cathena Policy Management{% endblock %}

{% block content %}
<div class="mb-3">
    <a href="javascript:history.back()" class="btn btn-outline-secondary">
        <i data-feather="arrow-left" class="feather-sm me-1"></i> Back to Previous Page
    </a>
</div>

<div class="container py-4">
    <h2 class="mb-4">Policy Feedback Form</h2>
    
    <div class="row">
        <div class="col-lg-8">
            <div class="card shadow mb-4">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Submit Feedback on Policies</h5>
                </div>
                <div class="card-body">
                    <form id="policyFeedbackForm" method="POST">
                        <div class="mb-3">
                            <label for="policySelect" class="form-label">Policy *</label>
                            <select class="form-select" id="policySelect" name="policy_id" required>
                                <option value="">-- Select a policy --</option>
                                <!-- Will be populated with actual policies -->
                                <option value="1">Health and Safety Policy</option>
                                <option value="2">Safeguarding Policy</option>
                                <option value="3">Medication Management Policy</option>
                                <option value="4">Data Protection Policy</option>
                                <option value="5">Infection Control Policy</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="feedbackType" class="form-label">Feedback Type *</label>
                            <select class="form-select" id="feedbackType" name="feedback_type" required>
                                <option value="">-- Select feedback type --</option>
                                <option value="suggestion">Suggestion for Improvement</option>
                                <option value="error">Error or Inaccuracy</option>
                                <option value="clarity">Clarity Issue</option>
                                <option value="formatting">Formatting Problem</option>
                                <option value="outdated">Outdated Information</option>
                                <option value="legal">Legal Compliance Concern</option>
                                <option value="general">General Feedback</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="policySection" class="form-label">Policy Section</label>
                            <select class="form-select" id="policySection" name="policy_section">
                                <option value="">-- Select relevant section (if applicable) --</option>
                                <option value="introduction">Introduction/Overview</option>
                                <option value="purpose">Purpose and Scope</option>
                                <option value="definitions">Definitions</option>
                                <option value="responsibilities">Roles and Responsibilities</option>
                                <option value="procedures">Procedures</option>
                                <option value="forms">Forms and Templates</option>
                                <option value="legislation">Legislation and Compliance</option>
                                <option value="review">Review and Evaluation</option>
                                <option value="entire">Entire Document</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="feedbackDetails" class="form-label">Feedback Details *</label>
                            <textarea class="form-control" id="feedbackDetails" name="feedback_details" rows="6" placeholder="Please provide detailed feedback about the policy..." required></textarea>
                            <div class="form-text">
                                Be specific about what you're addressing. Include page numbers or section references if applicable.
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="suggestedChanges" class="form-label">Suggested Changes</label>
                            <textarea class="form-control" id="suggestedChanges" name="suggested_changes" rows="4" placeholder="If you have specific changes to suggest, please provide them here..."></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="impact" class="form-label">Impact Assessment</label>
                            <select class="form-select" id="impact" name="impact">
                                <option value="">-- Select impact level --</option>
                                <option value="critical">Critical - Needs immediate attention</option>
                                <option value="high">High - Should be addressed soon</option>
                                <option value="medium">Medium - Important but not urgent</option>
                                <option value="low">Low - Minor issue</option>
                            </select>
                        </div>
                        
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="followUp" name="follow_up">
                            <label class="form-check-label" for="followUp">I would like to be notified about the outcome of this feedback</label>
                        </div>
                        
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Submit Feedback</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="card shadow mb-4">
                <div class="card-header bg-light">
                    <h5 class="mb-0">Feedback Guidelines</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <div class="d-flex">
                            <div class="me-2">
                                <i data-feather="info" class="feather-sm"></i>
                            </div>
                            <div>
                                <p class="mb-0">Your feedback helps us maintain accurate and effective policies. All submissions are reviewed by our policy team.</p>
                            </div>
                        </div>
                    </div>
                    
                    <h6 class="mt-3">Tips for Good Feedback:</h6>
                    <ul class="mb-0">
                        <li>Be specific and provide examples</li>
                        <li>Reference the exact location in the policy</li>
                        <li>Explain why the change would be beneficial</li>
                        <li>Include any relevant legislation or best practices</li>
                        <li>Suggest alternative wording where appropriate</li>
                    </ul>
                </div>
            </div>
            
            <div class="card shadow">
                <div class="card-header bg-light">
                    <h5 class="mb-0">What Happens Next?</h5>
                </div>
                <div class="card-body">
                    <ol class="mb-0">
                        <li>Our policy team reviews your feedback</li>
                        <li>Feedback is categorized and prioritized</li>
                        <li>Changes are drafted if approved</li>
                        <li>Policy updates are made in the system</li>
                        <li>You will be notified if you requested follow-up</li>
                    </ol>
                    
                    <p class="mt-3 text-muted">
                        <small>Average response time: 5-7 business days for initial assessment.</small>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}